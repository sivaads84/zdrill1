const xml2js = require('xml2js');


class XmlHelper {

    /**
     * Parse a given string containing xml
     *
     * @param xmlStr string to parse
     * @returns parsed json object
     */
    static parse(xmlStr) {
        return new Promise((resolve, reject) => {
            xml2js.parseString(xmlStr, {
                async: true
            }, (error, parsed) => {
                if (error) {
                    reject(error);
                } else {
                    resolve(parsed);
                }
            });
        });
    }

    /**
     * Stringify a given xml object
     *
     * @param xmlObj object to stringify
     * @returns parsed json object
     */
    static stringify(xmlObj) {
        const xmlBuilder = new xml2js.Builder();
        return xmlBuilder.buildObject(xmlObj);
    }
}

module.exports = XmlHelper;
