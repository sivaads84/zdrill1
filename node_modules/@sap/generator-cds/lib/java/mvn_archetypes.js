
const VERSION_MAPPING = {
    'v2': 'odatav2',
    'v4': 'odatav4',
    'odatav2': 'odatav2',
    'odatav4': 'odatav4'
}

class MvnArchetypes {


    static get ARCHETYPE_VERSION() {
        return '1.40.11';
    }

    static odataArchetypeCommand(moduleName, javaPackage, projectName, odataVersion, quiet = false, debug = false) {
        const commandLine =  [
            `mvn`,
            `archetype:generate`,
            `-DarchetypeGroupId=com.sap.cloud.servicesdk.archetypes`,
            `-DarchetypeArtifactId=${VERSION_MAPPING[odataVersion]}`,
            `-DarchetypeVersion=${MvnArchetypes.ARCHETYPE_VERSION}`,
            `-DinteractiveMode=false`,
            `-Dpackage=${javaPackage}`,
            `-Dversion=1.0-SNAPSHOT`,
            `-DgroupId=customer`,
            `-DartifactId=${projectName}-${moduleName}`,
            `-Dhdi-container-service=${projectName}-hdi-container`,
            //  `-DtargetFolder=${this.options.moduleName}`, // enable once supported, remove temp/copy logic
            `-Duaa-service-prefix=${projectName}`,
            '-B' // run maven in batch mode (non interactive), no progress
        ];

        if(quiet) {
            commandLine.push('-q');
        }

        if(debug) {
            commandLine.push('-X');
        }

        return commandLine;
    }

}

module.exports = MvnArchetypes;
